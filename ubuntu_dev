
0) docker swarm

(base) cybergis@cybergis-OptiPlex-9010:~/Desktop/dockerbuild/dockerspawner-master/examples/swarm$ docker-machine create --driver virtualbox swarm-master
Running pre-create checks...
Error with pre-create check: "VBoxManage not found. Make sure VirtualBox is installed and VBoxManage is in the path"


https://github.com/jupyterhub/dockerspawner


Install dockerspawner to the system:

pip install dockerspawner

sudo apt install virtualbox



1) docker install

sudo apt install python3.7

#install docker 
#https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04

sudo apt-get update
sudo apt-get remove docker docker-engine docker.io
sudo apt install docker.io


sudo systemctl start docker

sudo systemctl enable docker


#0.1
sudo docker build -f Dockerfile_gis .


sudo docker tag dd446e0d67c5 shaohuauiuc/cybergis:0.1

sudo docker login

sudo docker push shaohuauiuc/cybergis:0.1

sudo docker pull shaohuauiuc/cybergis:0.1

#show the docker images

sudo docker images


#start a docker image with docker image id
sudo docker container run c6e231addbe4

# find a container id 
sudo docker ps

#CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS               NAMES
#25b896935e6b        c6e231addbe4        "tini -g -- start-noâ€¦"   About a minute ago   Up About a minute   8888/tcp            gallant_ritchie


# run a docker images as bash environment
sudo docker exec -u 0 -it 25b896935e6b bash







2) install libary

#conda install 

conda create -y --name giscore

#activate giscore

conda activate giscore

#install ipykernel

conda install -y -c conda-forge geopandas matplotlib qgis osmnx

conda install -y -c conda-forge geopandas matplotlib qgis osmnx datashader fiona


conda install -y -c anaconda ipykernel




